{"version":3,"sources":["js/utils/Range.js"],"names":["clamp","num","min","max","defaultConfig","transitionDuration","onUpdate","Range","el","config","mergedConfig","trDur","fillStyle","fill","document","createElement","setAttribute","style","position","overflow","appendChild","isSeeking","update","v","callback","pct","value","transform","set","obj","forEach","k","getValue","e","getBoundingClientRect","left","width","clientX","disableTransition","mouseMoveHandler","transition","mouseUpHandler","window","removeEventListener","onmousedown","button","addEventListener"],"mappings":"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","file":"Range.f002eb25.js","sourceRoot":"..","sourcesContent":["const clamp = (num, min, max) => (num <= min ? min : num >= max ? max : num);\r\n\r\nconst defaultConfig = {\r\n  min: 0,\r\n  max: 100,\r\n  transitionDuration: 250,\r\n  onUpdate: () => {}\r\n};\r\n\r\nexport default function Range(el, config = {}) {\r\n  const mergedConfig = { ...defaultConfig, ...config };\r\n  const { transitionDuration: trDur } = mergedConfig;\r\n\r\n  const fillStyle = `\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n    top: 0;\r\n    left: -100%;\r\n    transform: translateX(0%);\r\n    transition: transform 0ms;\r\n  `;\r\n\r\n  const fill = document.createElement('div');\r\n  fill.setAttribute('data-range', true);\r\n  fill.setAttribute('style', fillStyle);\r\n  el.style.position = 'relative';\r\n  el.style.overflow = 'hidden';\r\n  el.appendChild(fill);\r\n\r\n  this.isSeeking = false;\r\n\r\n  this.update = (v, callback) => {\r\n    // console.log(this);\r\n    const pct = ((v - this.min) / (this.max - this.min)) * 100;\r\n    this.value = v;\r\n    fill.style.transform = `translateX(${pct}%)`;\r\n    if (callback) callback(v);\r\n  };\r\n\r\n  this.set = obj => {\r\n    Object.keys(obj).forEach(k => {\r\n      this[k] = obj[k];\r\n    });\r\n\r\n    this.update(clamp(this.value, this.min, this.max));\r\n  };\r\n\r\n  this.set(mergedConfig);\r\n\r\n  this.isSeeking = false;\r\n  this.value = config.value || this.min;\r\n\r\n  const getValue = e => {\r\n    const { left, width } = el.getBoundingClientRect();\r\n    let pct = ((e.clientX - left) / width) * 100;\r\n    pct = clamp(pct, 0, 100);\r\n\r\n    return (pct / 100) * (this.max - this.min) + this.min;\r\n  };\r\n\r\n  let disableTransition = false;\r\n\r\n  const mouseMoveHandler = e => {\r\n    this.update(getValue(e), this.onUpdate);\r\n\r\n    if (!disableTransition) {\r\n      fill.style.transition = 'transform 0ms';\r\n      disableTransition = true;\r\n    }\r\n  };\r\n\r\n  const mouseUpHandler = () => {\r\n    disableTransition = false;\r\n    fill.style.transition = 'transform 0ms';\r\n    this.isSeeking = false;\r\n    window.removeEventListener('mousemove', mouseMoveHandler);\r\n  };\r\n\r\n  el.onmousedown = e => {\r\n    // left button only\r\n    if (e.button !== 0) {\r\n      return;\r\n    }\r\n\r\n    fill.style.transition = `transform ${trDur}ms`;\r\n    this.isSeeking = true;\r\n    this.update(getValue(e), this.onUpdate);\r\n    window.addEventListener('mousemove', mouseMoveHandler);\r\n    window.addEventListener('mouseup', mouseUpHandler);\r\n  };\r\n\r\n  return this;\r\n}\r\n"]}